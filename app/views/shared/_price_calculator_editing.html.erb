<!--  book editing price calculator -->
    <script>
       (function() {
         'use strict';
         var calculator = function (formName, price, perCount) {
           var self = this;
           // calculator data
           self.formName = formName;
           self.pricePerWord = price / perCount;
           // init of calculator
           self.init = function() {
             self.inputWords = document.querySelector('#' + formName + ' #words');
             self.inputTot = document.querySelector('#' + formName + ' #tot');
             self.inputCalc = document.querySelector('#' + formName + ' #calc');
             self.inputCalc.onclick = self.click;
           };
           // click on calc button event handler
           self.click = function() {
             var words = parseInt(self.inputWords.value);
             if (isNaN(words)) {
                 self.inputWords.value = '';
                 self.inputTot.value = '';
                 alert('please enter a numerical value');
                 return;
             }
             // Currency sign based on location
               self.inputTot.value = ' ' + Math.ceil(words * self.pricePerWord);
     					var cost = '<%= @currency_symbol %>' + Math.ceil(words * self.pricePerWord);
     					var country= '<%=@user_country%>';
     					mixpanel.track("Edit Cost Calculated", {"cost": cost, "country": country});
           };
           // attaching on load event
           //window.addEventListener ? window.addEventListener('load', self.init, false) : window.attachEvent('onload', self.init);
           self.init();
           return self;
         };
         // creating calculators - Cost based on country
             var calc = new calculator('theform', <%= @developmental_edit_cost %>, 1000);
       }());
    </script>